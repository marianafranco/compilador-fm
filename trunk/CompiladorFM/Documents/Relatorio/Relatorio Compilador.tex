% !TEX encoding = IsoLatin
\documentclass[12pt,a4paper,titlepage]{article} 
\usepackage{graphicx}
\usepackage[portuguese]{babel}
%\usepackage[applemac]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fullpage}

\usepackage{indentfirst} % primeiro parágrado indendado
\usepackage{listings}	 % para colocar código fonte



\title{PCS2056 - Linguagens e Compiladores\\Compilador FM} 
\author{Felipe Giunte Yoshida N$^o$USP 4978231\\Mariana Ramos Franco N$^o$USP 5179364} 
%\date {21 de Setembro de 2009}

\begin{document} 

\begin{figure}[!t]
\centering 
\includegraphics[width=15.5cm]{logo.pdf}
\end{figure}

\maketitle 
\tableofcontents
\newpage

% -- Introdução
\section{Introdução}

% -- Definição da Linguagem
\section{Definição da Linguagem}

A linguagem adotada no projeto corresponde à uma simplificação da linguagem de programação C, onde os comandos em inglês (IF, ELSE, WHILE, ...) foram traduzidos para o português (SE, SENAO, ENQUANTO, ...).

Além disso, os seguintes recursos foram retirados da linguagem:

\begin{itemize}
\item comandos: for, do while, switch/case
\item ponteiros
\item tipos: short/long, signed/unsigned, float/double
\item alguns operadores unários
\item alguns operadores binários
\item structs, union, enum
\item include, typedef
\item etc...
\end{itemize}

Desta maneira, a linguagem adotada (que chamaremos de linguagem FM) aceita programas formados por uma sequência de comandos separados por ponto e vírgula. Os comando aceitos pela linguagem são os seguintes:

\begin{itemize}
\item Declaração de variáveis
\item Atribuição de valor à uma variável
\item Comando iterativo: enquanto
\item Comando condicional: se/senao
\item Chamada de função
\item Comando de entrada de dados
\item Comando de saída de dados
\end{itemize}

Abaixo encontra-se a descrição formal da linguagem através de uma gramática livre de contexto na notação BNF e na notação de Wirth.

% -- Definição Formal da Linguagem -- Notação BNF
\subsection{Definição Formal da Linguagem -- Notação BNF}

\lstset{
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
%frame=single,	                % adds a frame around the code
tabsize=4,	                	% sets default tabsize to 2 spaces
captionpos=b,                   % sets the caption-position to bottom
basicstyle=\ttfamily\footnotesize,     	% Estilo geral (fonte pequena, monoespaçada "true type")
breaklines=true                 % sets automatic line breaking
}

\lstinputlisting[label=BNF]{NotacaoBNF.txt}	

\paragraph{}	% linha em branco

% -- Definição Formal da Linguagem -- Notação de Wirth
\subsection{Definição Formal da Linguagem -- Notação de Wirth}

\lstinputlisting[label=Wirth]{NotacaoWirth.txt}

\paragraph{}	% linha em branco

% -- Simplificação da Gramática
\subsection{Simplificação da Gramática}

Para permitir a implementação do autômato de pilha estruturado, método que será utilizado para a construção do analisador sintático, a descrição em notação de Wirth mostrada anteriormente foi reduzida, agrupando os não-terminais essenciais à linguagem.

\section{Descrição do analisador léxico}

A função desta etapa do compilador é receber o código fonte como entrada, dividi-lo em tokens e preencher parte da tabela de símbolos. Para esta funcionalidade, implementamos o autômato finito representado na figura \ref{AFD}, que recebe cada caractere do código fonte e cada vez que volta ao estado inicial, pode escrever um token na estrutura de fluxo de tokens e pode também colocar uma entrada na tabela de símbolos.

\begin{figure}[!h]
\centering 
\includegraphics[width=15.5cm]{AFD.pdf}
\caption{Autômato finito equivalente à gramática definida \label{AFD}}
\end{figure}


\begin{minipage}[t]{0.5\linewidth} % A minipage that covers half the page
	\textbf{Estados:}\\
	1 - Inicial\\
	2 - Número\\
	3 - Seqüência de caracteres\\
	4 - Caracter especial\\
	5 - Divisão\\
	6 - Comentário\\
	7 - Comparação ou atribuição\\
	8 - Comparação\\		
\end{minipage}
\begin{minipage}[t]{0.5\linewidth}
	\textbf{Entradas:}\\
	A - Qualquer caracter\\
	B - Nova linha\\
	C - Caracteres especiais (. , ; + - * ( ) [ ] \{ \})\\
	E - Igual\\
	G - Maior ou menor (< >)\\
	L - Letra\\
	N - Número\\
	S - Barra\\
\end{minipage}

Dividimos a implementação do analisador léxico em duas etapas: a primeira monta o autômato em uma estrutura interna de acordo com um arquivo XML e o segundo simula tal autômato a partir do código fonte.

\subsection{Montagem do autômato finito}

Nesta etapa, o programa lê um arquivo XML como indicado na

%\begin{tabular}{|c|}
%\hline
\begin{verbatim}
<gramatica>
     <estado>
          <id>0</id>
          <final>false</final>
          <tipo>0</tipo>
          <transicao>
               <entradas>0123456789</entradas>
               <proximo>1</proximo>
          </transicao>
          [Outras transições]
     </estado>
     [Outros estados]
<gramatica>
\end{verbatim}
%\end{tabular}

\subsection{Simulação do autômato finito}

\subsection{Tabelas}

\subsection{Testes}








\section{Projeto do analisador sintático e das rotinas semânticas}

\subsection{Lógica do Reconhecimento sintático}

\subsection{Lógica do Programa}

\section{Estruturas de Dados Utilizadas}

\section{Tabela de símbolos de identificadores de função(tsif)}

\section{Tabela de símbolos	de variáveis de uma	função(tsvar)}

\section{PilhaIFs}

\section{PilhaControleIFs}

\section{PilhaLoops}

\section{PilhaRetorno}

\section{PilhaOperadores}

\section{PilhaOperandos}

\section{Funções do analisador e reconhecedor sintático}

\section{Descrição das principais rotinas semânticas}

\section{Linguagem de Montagem}

\section{Correspondência entre construções sintáticas e linguagem de montagem}

\section{Ambiente de Execução}

\section{Estrutura geral do ambiente de execução}

\section{Geração e execução do código de máquina virtual}

\section{Particionamento da Memória}

\section{Exemplo de compilação}

\section{Arquivo de saída gerado em linguagem de montagem}

\section{Arquivo gerado pelo montador}

\section{Resultado obtido na execução}





\begin{thebibliography}{10} 

\bibitem{laudon} Laudon, K. C. \& Laudon, J. P.:
\emph{Sistemas de Informações Gerenciais}, 
7$^{a}$ edição, Prentice Hall, 2007

\end{thebibliography}

\end{document} 